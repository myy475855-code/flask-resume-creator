{% extends "base.html" %}
{% block styling %}
    :root{
      --accent:#2b3a67;
      --muted:#6b6b6b;
      --line:#e6e6e6;
      --paper:#ffffff;
    }
    body{background:#f3f6fb;font-family: 'Helvetica Neue', Arial, sans-serif; padding:30px;}
    .card-resume{max-width:980px;margin:20px auto;background:var(--paper);box-shadow:0 10px 30px rgba(33,37,41,0.08);overflow:hidden}
    .header-row{border-bottom:6px solid var(--accent);padding:34px 40px 24px 40px;}
    .name-title{letter-spacing:2px}
    .big-name{font-size:40px;font-weight:700;margin:0;line-height:1}
    .pro-title{color:var(--accent);font-weight:600;letter-spacing:4px;margin-top:8px}
    .contact-list small{display:block;color:var(--muted)}
    .body-row{padding:32px 40px;}
    .left-col{border-right:1px solid var(--line);padding-right:36px}
    .right-col{padding-left:36px}
    .section-title{font-weight:700;color:var(--accent);font-size:0.95rem;margin-bottom:10px}
    .skill-list, .list-plain{list-style:none;padding:0;margin:0}
    .list-plain li{margin-bottom:8px;color:#333}
    .muted{color:var(--muted)}
    .job-title{font-weight:700}
    .job-meta{color:var(--muted);font-size:0.92rem}
    .dot{width:8px;height:8px;background:var(--accent);border-radius:50%;display:inline-block;margin-right:10px}
    .header-image{position:absolute;right:0;top:0;max-width:280px;opacity:0.95}
    @media(max-width:991px){
      .header-image{display:none}
      .left-col{border-right:none;padding-right:0}
      .right-col{padding-left:0}
      .big-name{font-size:28px}
    }
    /* print */
    @media print{
      body{background:#fff;padding:0}
      .card-resume{box-shadow:none}
    }
{% endblock %}
{% block resume %}
  <div class="card-resume position-relative">
    <!-- optional decorative header image (uses uploaded file path) -->

    <!-- HEADER -->
    <div class="header-row">
      <div class="d-flex justify-content-between align-items-start">
        <div>
          <p class="big-name name-title">{{ data.personal_info.name if data.personal_info and data.personal_info.name else 'YOUR NAME' }}</p>
          <div class="pro-title">{{ data.personal_info.description if data.personal_info and data.personal_info.description else 'PROFESSIONAL TITLE' }}</div>
        </div>

        <div class="text-end contact-list">
          <div><small>{{ data.personal_info.contact if data.personal_info and data.personal_info.contact else 'Phone' }}</small></div>
          <div><small>{{ data.personal_info.email if data.personal_info and data.personal_info.email else 'email@example.com' }}</small></div>
          <div><small>{{ data.personal_info.location if data.personal_info and data.personal_info.location else 'City, State, Country' }}</small></div>
          {% if data.personal_info.socials %}
            {% for s in data.personal_info.socials %}
              <div><small>{{ s.site }}: {{ s.link }}</small></div>
            {% endfor %}
          {% endif %}
        </div>
      </div>
    </div>

    <!-- BODY -->
    <div class="body-row row g-0">
      <!-- LEFT SIDEBAR -->
      <aside class="col-lg-4 left-col">
        <!-- profile photo -->
        <div class="text-center mb-3">
          {% if data.personal_info and data.personal_info.photo %}
            <img src="{{ url_for('static', filename='uploads/' + data.personal_info.photo) }}" alt="photo" style="width:120px;height:120px;object-fit:cover;border-radius:50%;border:4px solid #fff;">
          {% else %}
            
            <div ><img src="{{ url_for('static', filename='pro.jpg') }}" style="width:120px;height:120px;border-radius:50%;background:var(--line);display:inline-block"></div>
          {% endif %}

        </div>

        <!-- SUMMARY -->
        <div class="mb-4">
          <div class="section-title">PROFILE</div>
          <div class="muted" style="font-size:0.95rem;">
            {{ data.personal_info.description if data.personal_info and data.personal_info.description else 'Short professional summary goes here. 2-3 sentences that highlight experience, core strengths and what you bring.' }}
          </div>
        </div>

        <!-- CORE SKILLS -->
        {% if data.skills %}
        <div class="mb-4">
          <div class="section-title">CORE SKILLS</div>
          <ul class="skill-list list-plain">
            {% for s in data.skills %}
              <li>• {{ s.name }}{% if s.level %} — <span class="muted">{{ s.level }}</span>{% endif %}</li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}

        <!-- EDUCATION (compact) -->
        {% if data.education %}
        <div class="mb-4">
          <div class="section-title">EDUCATION</div>
          {% for e in data.education %}
            <div style="margin-bottom:8px">
              <div style="font-weight:700">{{ e.degree or 'Degree / Diploma' }}</div>
              <div class="muted" style="font-size:0.92rem">{{ e.school }}{% if e.start or e.end %} — {{ e.start or '' }}{% if e.end %} to {{ e.end }}{% endif %}{% endif %}</div>
            </div>
          {% endfor %}
        </div>
        {% endif %}

        <!-- ACHIEVEMENTS / CERTS -->
        {% if data.certifications %}
        <div class="mb-4">
          <div class="section-title">ACHIEVEMENTS &AMP; CERTS</div>
          <ul class="list-plain">
            {% for c in data.certifications %}
              <li>{{ c.name }}{% if c.org %} — <span class="muted">{{ c.org }}</span>{% endif %}{% if c.year %} ({{ c.year }}){% endif %}</li>
            {% endfor %}
          </ul>
        </div>
        {% endif %}
      </aside>

      <!-- MAIN COLUMN -->
      <main class="col-lg-8 right-col">
        <!-- WORK EXPERIENCE -->
        {% if data.experience %}
        <div class="mb-4">
          <div class="section-title">WORK EXPERIENCE</div>
          {% for job in data.experience %}
            <div class="mb-3">
              <div class="d-flex justify-content-between">
                <div>
                  <div class="job-title">{{ job.title or 'Professional Title' }}</div>
                  <div class="job-meta">{{ job.company or '' }}{% if job.company and (job.start or job.end) %} — {% endif %}{{ (job.start ~ ' to ' ~ job.end) if (job.start or job.end) else '' }}</div>
                </div>
                <div class="muted">{{ job.start or '' }}{% if job.end %} — {{ job.end }}{% endif %}</div>
              </div>
              {% if job.description %}
                <ul style="margin-top:8px">
                  {% for line in job.description.split('\\n') %}
                    <li class="muted" style="margin-bottom:6px">{{ line }}</li>
                  {% endfor %}
                </ul>
              {% endif %}
            </div>
          {% endfor %}
        </div>
        {% endif %}

        <!-- PROJECTS -->
        {% if data.projects %}
        <div class="mb-4">
          <div class="section-title">PROJECTS</div>
          {% for p in data.projects %}
            <div class="mb-3">
              <div class="job-title">{{ p.title }}</div>
              <div class="muted" style="font-size:0.92rem">Tech: {{ p.tech or '—' }}</div>
              <p class="muted" style="margin-top:6px">{{ p.description }}</p>
              {% if p.github %}<div class="muted"><strong>GitHub:</strong> {{ p.github }}</div>{% endif %}
              {% if p.live %}<div class="muted"><strong>Live:</strong> {{ p.live }}</div>{% endif %}
            </div>
          {% endfor %}
        </div>
        {% endif %}

        <!-- LANGUAGES -->
        {% if data.languages %}
        <div class="mb-4">
          <div class="section-title">LANGUAGES</div>
          <div class="muted">
            {% for lang in data.languages %}
              <div style="display:inline-block;margin-right:18px">{{ lang.language }} — {{ lang.level }}</div>
            {% endfor %}
          </div>
        </div>
        {% endif %}

        <!-- FOOTER NOTES -->
        <div class="mt-4 muted" style="font-size:0.9rem">
          <p><strong>Notes:</strong> This resume was generated from your profile data. Review for typos and formatting before downloading or printing.</p>
        </div>
      </main>

    </div>
  </div>
{% endblock %}